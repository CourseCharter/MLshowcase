{% extends 'base.html' %}

{% block content %}
{% load static %}
{% load crispy_forms_tags %}

  <!-- ======= Hero Section ======= -->
  <section id="hero">

    <div class="container-fluid">
      <div class="row">
        <div class="col-lg-6 pt-5 pt-lg-0 order-2 order-lg-1 d-flex flex-column justify-content-center" data-aos="fade-up">
          <div>
            <h1>The Titanic survival prediction is the starting point for testing out machine learning knowledge.</h1>
          </div>
        </div>
        <div class="col-lg-6 order-1 order-lg-2 hero-img" data-aos="fade-left">
          <img src="{% static 'titanic/titanic.jpg' %}" class="img-fluid" alt="">
        </div>
      </div>
    </div>

  </section><!-- End Hero -->

    <!-- ======= About Section ======= -->
    <section id="about" class="about">
      <div class="container-fluid">

        <div class="row">
          <div class="container-fluid" data-aos="zoom-in">
            <img src="{% static 'titanic/titanic_model.png' %}" class="img-fluid" alt="">
          </div>
        </div>
        <div class="row">  
          <div class="container">
            <div class="content pt-4 pt-lg-0">
              <h3>Test Data Results</h3>
              <p class="font-italic">
                This model is a Keras sequential model using an Adam optmizer using 80% of the data as test. Here we 
                are able to see the relationships between various features in the data.
              </p>
              <ul>
                <li><i class="fa fa-bolt"></i>5 primary features are ultimately used for testing</li>
                <li><i class="fa fa-bolt"></i> Over 800 passenger records are tested on</li>
                <li><i class="fa fa-bolt"></i> The network uses 3 layers for prediction</li>
              </ul>
              <p>
               The final result is 81% accurate! I have created a form so you can play around with the predictions yourself!
              </p>
              <br>
            </div>
          </div>
        </div>
    </section>


<section id="hero">

    <div class="container-fluid">
      
      <div class="container justify-content-center" data-aos="fade-up">
        <div class="row">
                <form method='POST'>
                    {% csrf_token %}
                    {{ form | crispy }}
                    <button type="submit" class="btn btn-success">Check</button>
                </form>
        </div>
        <div class="row">
                {% if messages %}
                <ul class='messages'>
                {% for message in messages %}
                <li {% if message.tags %} class=" {{ message.tags }} " {% endif %}>
                {{ message }}</li>
                {% endfor %}
                </ul>
                {% endif %}
        </div> 
        <div class="row">        

                <h1>{{ answer }}</h1>

        </div>
        <div class="row">        

          <div class="table-responsive">
          {{ titanictable | safe }}
          </div>

        </div>
       
      </div>
    </div>
  

  </section><!-- End Hero -->


{% endblock  %}